@model PP2.Web.Models.BinaryCalcViewModel
@{
    ViewData["Title"] = "Cálculos Binarios";
}
<h1 class="mt-3">Cálculos Binarios</h1>
<p class="text-muted">Ingrese dos cadenas binarias (a y b) y envíe el formulario.</p>

<form asp-action="Index" method="post" class="row g-3">
    @Html.AntiForgeryToken()

    <div class="col-md-6">
        <label asp-for="Input.A" class="form-label"></label>
        <input asp-for="Input.A" class="form-control" placeholder="p.ej. 1010" />
        <span class="text-danger" asp-validation-for="Input.A"></span>
    </div>

    <div class="col-md-6">
        <label asp-for="Input.B" class="form-label"></label>
        <input asp-for="Input.B" class="form-control" placeholder="p.ej. 11" />
        <span class="text-danger" asp-validation-for="Input.B"></span>
    </div>

    <div class="col-12">
        <button type="submit" class="btn btn-primary">Calcular</button>
    </div>

    <div class="col-12">
        <div asp-validation-summary="All" class="text-danger"></div>
    </div>
</form>

@if (Model?.Tabla != null && Model.Tabla.Count > 0)
{
    <hr />
    <h2 class="mt-4">Resultados</h2>
    <p class="text-muted">Se muestran valores en bases: Binaria, Octal, Decimal y Hexadecimal.</p>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        @foreach (var row in Model.Tabla)
        {
            var bgClass = row.Etiqueta switch
            {
                "Suma" => "bg-primary text-white",
                "Resta" => "bg-danger text-white",
                "Multiplicación" => "bg-success text-white",
                "División" => "bg-warning text-dark",
                _ => "bg-light text-dark"
            };

            <div class="col">
                <div class="card h-100 shadow-sm border-0">
                    <div class="card-header @bgClass fw-bold">
                        @row.Etiqueta
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><strong>Bin:</strong> <code>@row.Bin</code></li>
                            <li class="list-group-item"><strong>Oct:</strong> @row.Oct</li>
                            <li class="list-group-item"><strong>Dec:</strong> @row.Dec</li>
                            <li class="list-group-item"><strong>Hex:</strong> @row.Hex</li>
                        </ul>
                    </div>
                </div>
            </div>
        }
    </div>
}
